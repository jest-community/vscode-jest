language: node_js

stages:
  - verify
  - test

jobs:
  - stage: "verify"
    name: "verify"
    node_js: "10"
    os: osx
    script: yarn danger ci

node_js:
  - "8"
  - "10"

os:
  - osx
  - linux
  - windows

script:
  - yarn ci
  - cat ./coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js
  - yarn vscode:prepublish

